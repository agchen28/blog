---
date: 2017-01-17T22:16:37+08:00
draft: true
title: ref和out
tags: [".NET基础"]
categories: ["技术相关"]
---

作用：以引用的方式向方法传递参数
CLR默认所有方法参数都传值。注意，传递引用类型的对象时，对象的引用（它的值就是一个指针）被传递给方法。

CLR不区分out和ref，所以这两个关键字会生成相同的IL代码。（查看IL代码）

编译器区分这两个关键字：
out:调用者在调用方法之前不需要初始化对象。被调用的方法不能读取参数的值，而且返回之前必须写入。
ref:调用者在调用方法之前必须初始化参数的值，被调用的方法可以读取或者写入。
为大的值类型使用out，可提升代码的执行效率，因为避免了在进行方法调用时复制值类型实例的字段。

示例：
值类型使用out和ref。
引用类型使用out和ref。（特殊的string类型）